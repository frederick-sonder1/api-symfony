{% extends 'base.html.twig' %}

{% block title %}Articles
{% endblock %}

{% block body %}
	<h1>Articles</h1>
	<table class="table table-dark">
		<thead>
			<tr>
				<th scope="col">Id</th>
				<th scope="col">Titre</th>
				<th scope="col">Contenu</th>
				<th scope="col">Auteur</th>
				<th scope="col">Date de cr√©ation</th>
				<th scope="col">Actions</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td class="col">{{ article.id }}</td>
				<td class="col">{{ article.titre }}</td>
				<td class="col">{{ article.Article }}</td>
				<td class="col">{{ article.user.username }}</td>
				<td class="col">{{ article.date ? article.date|date('Y-m-d') : '' }}</td>
				<td class="col">
					<a href="{{ path('app_articles_edit', {'id': article.id}) }}">edit</a>
				</td>
			</tr>
		</tbody>
	</table>
	<a href="{{ path('app_articles_index') }}">Retour aux Articles</a>
	  <a href="{{ path('app_Comments_new') }}">Ajouter un commentaire</a>

	<h4>Commentaires</h4>
	<h5>{{article.comments|length}} commentaire(s)</h5>
	{% for comment in article.comments %}
		<div class="card">
			<div class="card-body">
				<p class="card-text">{{comment.Comment}}</p>
				<h7 class="card-title">Auteur: {{comment.user.username}}</h7>
			</div>
		</div>
	{% endfor %}
	<a href="{{ path('app_articles_index') }}">back to list</a>
	<a href="{{ path('app_Comments_new') }}">Ajouter un commentaire</a>
	{{ include('articles/_delete_form.html.twig') }}
{% endblock %}
